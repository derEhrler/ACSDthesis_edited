\chapter{Implementation}
\thispagestyle{empty}
The actual implementation of McNaughton's wrap around rule in MATLAB is done according to Algorithm \ref{alg:matlab}. This is also an example of how to incorporate algorithms in a beautiful way using the \texttt{algorithm} environment. If you want to customize the appearance of your algorithm, set it up in \texttt{ACSDthesis\_config.tex}. 

\begin{algorithm}[h]
\SetKwInOut{Input}{Input}
\SetKwInOut{Output}{Output}
\Input{$\left\{w_{ij}^q[\mu]\in[0,1] \;|\; j \in J, q\in Q\right\}$}
\For{$j = 1,\ldots, j_{\mathrm{max}}$}{ % for j
	\For{$q = 1,\ldots, q_{\mathrm{max}}$}{ % for q
		\eIf{$j=\;1\text{ and}\; q=1$} % if 1
		{$\eta_{11}^q[\mu] \leftarrow w_{11}^q[\mu]$} % then 1
		{\eIf{$q=1$} % else 1 start, if 2
			{$q_{-} \leftarrow q_{\mathrm{max}}$\\$j_{-} \leftarrow j-1$} % then 2
			{$q_{-} \leftarrow q-1$\\$j_{-} \leftarrow j$} % else 2
		$\sigma_{ij}^{q}[\mu] \leftarrow \eta_{ij_{-}}^{q_{-}}[\mu]$\\ % still else 1
		  \eIf { $\eta_{ij_{\mathrm{last}}}^{q_{-}}[\mu] + w_{ij}^q\le 1$} % if 3
			{$\eta_{ij}^{q}[\mu]\leftarrow\eta_{ij_{-}}^{q_{-}}[\mu]+w_{ij}^q[\mu]$} % then 3
			{$\eta_{ij}^{q}[\mu] \leftarrow  1$} % else 3
		} % else 1 end
	} % for j end
} % for q end
\Output{$\left\{(\sigma_{ij}^q[\mu],\eta_{ij}^q[\mu])\}\in [0,1]\times [0,1]\;|\;j\in J, q\in Q\right\}$}
\caption{McNaughton's wrap around algorithm.}
\label{alg:matlab}
\end{algorithm}










